2025-11-12 20:04:39 [Information] Microsoft.Hosting.Lifetime: Now listening on: "http://localhost:5000"
2025-11-12 20:04:39 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2025-11-12 20:04:39 [Information] Microsoft.Hosting.Lifetime: Hosting environment: "Development"
2025-11-12 20:04:39 [Information] Microsoft.Hosting.Lifetime: Content root path: "/Users/notpineapples/Desktop/MPT/FourthCourseWork/second-cursework/backend/api/src/Api"
2025-11-12 20:05:13 [Information] Microsoft.Hosting.Lifetime: Application is shutting down...
2025-11-12 20:07:01 [Information] Microsoft.Hosting.Lifetime: Now listening on: "http://localhost:5000"
2025-11-12 20:07:01 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2025-11-12 20:07:01 [Information] Microsoft.Hosting.Lifetime: Hosting environment: "Development"
2025-11-12 20:07:01 [Information] Microsoft.Hosting.Lifetime: Content root path: "/Users/notpineapples/Desktop/MPT/FourthCourseWork/second-cursework/backend/api/src/Api"
2025-11-12 20:07:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - null null
2025-11-12 20:07:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 321.6554ms
2025-11-12 20:08:14 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order""" - null null
2025-11-12 20:08:14 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:08:14 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order""" - 204 null null 115.7432ms
2025-11-12 20:08:14 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - "application/json" null
2025-11-12 20:08:14 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:08:14 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2025-11-12 20:08:14 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:08:14 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrders\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.Order]]] GetOrders()" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:08:15 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o"
2025-11-12 20:08:15 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.Order, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:08:15 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrders (Api)" in 1031.322ms
2025-11-12 20:08:15 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:08:15 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - 200 null "application/json; charset=utf-8" 1295.1696ms
2025-11-12 20:13:19 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:13:19 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:13:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:13:19 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:13:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:13:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 198.114ms
2025-11-12 20:13:19 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:13:19 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 258.6712ms
2025-11-12 20:13:20 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:13:20 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:13:20 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:13:21 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:13:21 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:13:21 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 83.0404ms
2025-11-12 20:13:21 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:13:21 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 93.3811ms
2025-11-12 20:13:50 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:13:50 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:13:50 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:13:50 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:13:50 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:13:50 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 23.7987ms
2025-11-12 20:13:50 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:13:50 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 30.8511ms
2025-11-12 20:17:40 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/UserPreferences/1""" - null null
2025-11-12 20:17:40 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:17:40 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/UserPreferences/1""" - 204 null null 9.5936ms
2025-11-12 20:17:40 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:17:40 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:17:40 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:17:40 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:17:41 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("38"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:17:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:17:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 163.4148ms
2025-11-12 20:17:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:17:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 213.788ms
2025-11-12 20:19:15 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:19:15 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:15 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:15 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:19:15 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:19:15 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:19:15 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 130.369ms
2025-11-12 20:19:15 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:15 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 169.9952ms
2025-11-12 20:19:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:19:18 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:19:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("18"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:19:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:19:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 32.9845ms
2025-11-12 20:19:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 54.7572ms
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/UserPreferences/1""" - null null
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/UserPreferences/1""" - 204 null null 3.6112ms
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" 28
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Upsert\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Upsert(Int64, Api.DTOs.UserPreferenceDto)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:19:21 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.id = @__userId_0 AND NOT (u.is_deleted))"
2025-11-12 20:19:21 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:19:21 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("38"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""UPDATE user_preferences SET theme = @p0, updated_at = @p1
WHERE user_id = @p2;"
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "OkObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Upsert (Api)" in 168.3495ms
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:19:21 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 188.5088ms
2025-11-12 20:19:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:19:23 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:19:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:19:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:19:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 15.4538ms
2025-11-12 20:19:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 17.4685ms
2025-11-12 20:19:25 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" 27
2025-11-12 20:19:25 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:25 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:19:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Upsert\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Upsert(Int64, Api.DTOs.UserPreferenceDto)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:19:25 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.id = @__userId_0 AND NOT (u.is_deleted))"
2025-11-12 20:19:25 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:19:25 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("4"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""UPDATE user_preferences SET theme = @p0, updated_at = @p1
WHERE user_id = @p2;"
2025-11-12 20:19:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "OkObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:19:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Upsert (Api)" in 36.8181ms
2025-11-12 20:19:25 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:19:25 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 44.2966ms
2025-11-12 20:19:26 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:19:26 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:26 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:19:26 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("16"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:19:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:19:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 18.9813ms
2025-11-12 20:19:26 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:26 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 20.2183ms
2025-11-12 20:19:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:19:30 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:19:30 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("14"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:19:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:19:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 35.0095ms
2025-11-12 20:19:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 41.1862ms
2025-11-12 20:19:31 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:19:31 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:19:31 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:19:31 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:19:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:19:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 33.5329ms
2025-11-12 20:19:31 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:19:31 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 49.973ms
2025-11-12 20:20:39 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:20:39 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:20:39 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:20:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:20:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("21"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:20:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:20:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 49.8623ms
2025-11-12 20:20:39 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:20:39 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 84.5137ms
2025-11-12 20:21:55 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:21:55 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:21:55 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:21:55 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:21:55 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("13"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:21:55 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:21:55 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 66.2553ms
2025-11-12 20:21:55 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:21:55 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 84.706ms
2025-11-12 20:21:56 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:21:56 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:21:56 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:21:56 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:21:56 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("20"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:21:56 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:21:56 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 39.693ms
2025-11-12 20:21:56 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:21:56 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 56.1332ms
2025-11-12 20:22:10 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/User/1""" - null null
2025-11-12 20:22:10 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:22:10 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/User/1""" - 204 null null 5.9196ms
2025-11-12 20:22:10 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:22:10 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:22:10 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:22:10 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:22:10 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:22:10 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:22:10 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:22:11 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 153.4007ms
2025-11-12 20:22:11 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:22:11 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 180.8368ms
2025-11-12 20:23:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:23:00 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:23:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:23:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("15"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:23:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:23:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 36.5403ms
2025-11-12 20:23:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:23:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 44.1402ms
2025-11-12 20:23:19 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:23:19 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:19 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:23:19 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:23:19 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:23:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:23:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 80.0543ms
2025-11-12 20:23:19 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:19 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 91.6187ms
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:23:23 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:23:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("30"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 52.5965ms
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 60.8555ms
2025-11-12 20:23:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 118.4713ms
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:23:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 122.841ms
2025-11-12 20:23:26 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" 28
2025-11-12 20:23:26 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:26 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:23:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Upsert\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Upsert(Int64, Api.DTOs.UserPreferenceDto)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:23:26 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.id = @__userId_0 AND NOT (u.is_deleted))"
2025-11-12 20:23:26 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("19"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:23:26 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("10"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""UPDATE user_preferences SET theme = @p0, updated_at = @p1
WHERE user_id = @p2;"
2025-11-12 20:23:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "OkObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:23:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Upsert (Api)" in 58.021ms
2025-11-12 20:23:26 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:23:26 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 62.9716ms
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:23:27 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:23:27 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:23:27 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 18.2655ms
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 19.7218ms
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 21.05ms
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:27 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 26.278ms
2025-11-12 20:23:29 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" 27
2025-11-12 20:23:29 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:29 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:23:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Upsert\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Upsert(Int64, Api.DTOs.UserPreferenceDto)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:23:29 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.id = @__userId_0 AND NOT (u.is_deleted))"
2025-11-12 20:23:29 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:23:29 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("15"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""UPDATE user_preferences SET theme = @p0, updated_at = @p1
WHERE user_id = @p2;"
2025-11-12 20:23:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "OkObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:23:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Upsert (Api)" in 34.4253ms
2025-11-12 20:23:29 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:23:29 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 36.9962ms
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:23:30 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:23:30 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 19.7296ms
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 22.2077ms
2025-11-12 20:23:30 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 21.4133ms
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 27.4784ms
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/User/1""" - null null
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/User/1""" - 204 null null 9.3919ms
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/User/1""" - "application/json" 157
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.PutUser (Api)"'
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"PutUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutUser(Int64, Api.DTOs.UserDto)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:23:41 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__p_0
LIMIT 1"
2025-11-12 20:23:41 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("14"ms) [Parameters=["@p1='?' (DbType = Int64), @p0='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE users SET phone = @p0
WHERE id = @p1;"
2025-11-12 20:23:41 [Information] Api.Controllers.UserController: User 1 updated
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.PutUser (Api)" in 63.3325ms
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.PutUser (Api)"'
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/User/1""" - 204 null null 77.1977ms
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:23:41 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:23:41 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 2.4074ms
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:23:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 2.916ms
2025-11-12 20:24:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:24:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:24:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:24:04 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:24:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:24:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 27.3499ms
2025-11-12 20:24:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:24:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 35.1325ms
2025-11-12 20:24:15 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:24:15 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:24:15 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:24:15 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:24:15 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:24:15 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 13.5087ms
2025-11-12 20:24:15 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:24:15 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 27.406ms
2025-11-12 20:24:31 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:24:31 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:24:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:24:31 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:24:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:24:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 17.6085ms
2025-11-12 20:24:31 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:24:31 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 23.8568ms
2025-11-12 20:29:47 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:29:47 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:29:47 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:29:47 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:29:47 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:29:47 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 67.539ms
2025-11-12 20:29:47 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:29:47 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 78.5929ms
2025-11-12 20:29:53 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order/checkout""" - null null
2025-11-12 20:29:53 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:29:53 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order/checkout""" - 204 null null 7.3001ms
2025-11-12 20:29:53 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/Order/checkout""" - "application/json" 51
2025-11-12 20:29:53 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:29:53 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"405 HTTP Method Not Supported"'
2025-11-12 20:29:53 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"405 HTTP Method Not Supported"'
2025-11-12 20:29:53 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/Order/checkout""" - 405 0 null 5.1ms
2025-11-12 20:31:29 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/Order/checkout""" - "application/json" 51
2025-11-12 20:31:29 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:31:29 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"405 HTTP Method Not Supported"'
2025-11-12 20:31:29 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"405 HTTP Method Not Supported"'
2025-11-12 20:31:29 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/Order/checkout""" - 405 0 null 17.7997ms
2025-11-12 20:32:08 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/Order/checkout""" - "application/json" 51
2025-11-12 20:32:08 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:32:08 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"405 HTTP Method Not Supported"'
2025-11-12 20:32:08 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"405 HTTP Method Not Supported"'
2025-11-12 20:32:08 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/Order/checkout""" - 405 0 null 27.1169ms
2025-11-12 20:32:11 [Information] Microsoft.Hosting.Lifetime: Application is shutting down...
2025-11-12 20:32:17 [Information] Microsoft.Hosting.Lifetime: Now listening on: "http://localhost:5000"
2025-11-12 20:32:17 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2025-11-12 20:32:17 [Information] Microsoft.Hosting.Lifetime: Hosting environment: "Development"
2025-11-12 20:32:17 [Information] Microsoft.Hosting.Lifetime: Content root path: "/Users/notpineapples/Desktop/MPT/FourthCourseWork/second-cursework/backend/api/src/Api"
2025-11-12 20:32:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/Order/checkout""" - "application/json" 51
2025-11-12 20:32:23 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:32:23 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2025-11-12 20:32:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.Checkout (Api)"'
2025-11-12 20:32:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Checkout\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.CheckoutResultDto]] Checkout(Api.DTOs.CreateOrderRequestDto)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:32:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("26"ms) [Parameters=["@__request_UserId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.id = @__request_UserId_0 AND NOT (u.is_deleted))"
2025-11-12 20:32:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("29"ms) [Parameters=["@__productIds_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT p.id AS \"Id\", p.stock_quantity AS \"StockQuantity\"
FROM products AS p
WHERE p.id = ANY (@__productIds_0) AND NOT (p.is_deleted)"
2025-11-12 20:32:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT p.id
FROM payment_statuses AS p
ORDER BY p.id
LIMIT 1"
2025-11-12 20:32:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id
FROM order_statuses AS o
ORDER BY o.id
LIMIT 1"
2025-11-12 20:32:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=["@p0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT set_current_user_id(@p0)"
2025-11-12 20:32:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Int64), @p3='?'"], CommandType='Text', CommandTimeout='30']"
""CALL create_order_with_details(@p0, @p1, @p2, @p3::jsonb)"
2025-11-12 20:32:24 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("1"ms) [Parameters=["@__request_UserId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id AS \"OrderId\", o.total_amount AS \"TotalAmount\"
FROM orders AS o
WHERE o.user_id = @__request_UserId_0 AND NOT (o.is_deleted)
ORDER BY o.id DESC
LIMIT 1"
2025-11-12 20:32:24 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "OkObjectResult", writing value of type '"Api.DTOs.CheckoutResultDto"'.
2025-11-12 20:32:24 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.Checkout (Api)" in 894.6717ms
2025-11-12 20:32:24 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.Checkout (Api)"'
2025-11-12 20:32:24 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "POST" "http"://"localhost:5000""""/api/Order/checkout""" - 200 null "application/json; charset=utf-8" 985.514ms
2025-11-12 20:32:29 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:32:29 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:32:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:32:29 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:32:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:32:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 76.285ms
2025-11-12 20:32:29 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:32:29 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 96.7472ms
2025-11-12 20:33:27 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:33:27 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:33:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:33:27 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:33:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:33:27 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 89.6563ms
2025-11-12 20:33:27 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:33:27 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 119.6187ms
2025-11-12 20:33:28 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:33:28 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:33:28 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:33:28 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:33:28 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:33:28 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 22.3513ms
2025-11-12 20:33:28 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:33:28 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 26.9472ms
2025-11-12 20:34:31 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:34:31 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:34:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:34:31 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:34:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:34:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 44.6824ms
2025-11-12 20:34:31 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:34:31 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 58.1803ms
2025-11-12 20:34:39 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:34:39 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:34:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:34:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:34:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:34:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 42.2372ms
2025-11-12 20:34:39 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:34:39 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 59.7035ms
2025-11-12 20:34:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:34:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:34:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:34:41 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:34:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:34:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 31.9036ms
2025-11-12 20:34:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:34:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 36.8801ms
2025-11-12 20:34:42 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:34:42 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:34:42 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:34:42 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:34:42 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:34:42 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 10.6077ms
2025-11-12 20:34:42 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:34:42 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 13.0346ms
2025-11-12 20:35:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:35:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:35:04 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:35:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:35:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 22.4691ms
2025-11-12 20:35:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 28.8692ms
2025-11-12 20:35:12 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:35:12 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:12 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:35:12 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:35:12 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:35:12 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 67.7601ms
2025-11-12 20:35:12 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:12 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 71.8933ms
2025-11-12 20:35:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:35:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:35:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:35:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:35:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 18.1782ms
2025-11-12 20:35:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 28.4382ms
2025-11-12 20:35:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:35:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:35:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:35:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:35:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 27.884ms
2025-11-12 20:35:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 33.2507ms
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:35:25 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:35:25 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("36"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:35:25 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 162.0648ms
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 219.7065ms
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 173.2326ms
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:35:25 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 230.92ms
2025-11-12 20:35:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" 28
2025-11-12 20:35:30 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:35:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:35:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Upsert\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Upsert(Int64, Api.DTOs.UserPreferenceDto)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:35:30 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.id = @__userId_0 AND NOT (u.is_deleted))"
2025-11-12 20:35:30 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:35:30 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("12"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""UPDATE user_preferences SET theme = @p0, updated_at = @p1
WHERE user_id = @p2;"
2025-11-12 20:35:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "OkObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:35:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Upsert (Api)" in 117.9965ms
2025-11-12 20:35:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:35:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 146.7242ms
2025-11-12 20:35:32 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:35:32 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:35:32 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:35:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:35:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 16.3997ms
2025-11-12 20:35:32 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:32 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 17.895ms
2025-11-12 20:35:33 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:35:33 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:33 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:35:33 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:35:33 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:35:33 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 20.6842ms
2025-11-12 20:35:33 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:35:33 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 30.7665ms
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:35:35 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:35:35 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("27"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:35:35 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 71.0654ms
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 58.0655ms
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 85.6883ms
2025-11-12 20:35:35 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 85.6882ms
2025-11-12 20:35:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" 27
2025-11-12 20:35:37 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:35:37 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:35:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Upsert\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Upsert(Int64, Api.DTOs.UserPreferenceDto)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:35:37 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("27"ms) [Parameters=["@__userId_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.id = @__userId_0 AND NOT (u.is_deleted))"
2025-11-12 20:35:37 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:35:37 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""UPDATE user_preferences SET theme = @p0, updated_at = @p1
WHERE user_id = @p2;"
2025-11-12 20:35:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "OkObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:35:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Upsert (Api)" in 61.8487ms
2025-11-12 20:35:37 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Upsert (Api)"'
2025-11-12 20:35:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 70.2273ms
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:39:18 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:39:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("140"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 208.712ms
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 239.5119ms
2025-11-12 20:39:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("35"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 310.1637ms
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:39:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 339.2032ms
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:39:20 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:39:20 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:39:20 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("23"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 63.3822ms
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 63.6336ms
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 73.4351ms
2025-11-12 20:39:20 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 73.3962ms
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order""" - null null
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order""" - 204 null null 15.3585ms
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - "application/json" null
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrders\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.Order]]] GetOrders()" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:39:22 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o"
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.Order, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrders (Api)" in 84.7045ms
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:39:22 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - 200 null "application/json; charset=utf-8" 106.792ms
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order/7""" - null null
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order/7""" - 204 null null 8.0364ms
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:39:38 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("18"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 41.981ms
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:39:38 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 60.6626ms
2025-11-12 20:39:47 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:39:47 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:39:47 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:39:47 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:39:47 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("69"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:39:47 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:39:47 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 198.259ms
2025-11-12 20:39:47 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:39:47 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 289.4294ms
2025-11-12 20:40:06 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:40:06 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:40:06 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:40:06 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:40:06 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:40:06 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:40:06 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 31.5353ms
2025-11-12 20:40:06 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:40:06 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 39.231ms
2025-11-12 20:40:39 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:40:39 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:40:39 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:40:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:40:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("40"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:40:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:40:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 150.557ms
2025-11-12 20:40:39 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:40:39 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 202.6729ms
2025-11-12 20:40:53 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:40:53 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:40:53 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:40:53 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:40:53 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("19"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:40:53 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:40:53 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 37.2979ms
2025-11-12 20:40:53 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:40:53 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 49.9116ms
2025-11-12 20:41:14 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:41:14 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:41:14 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:41:14 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:41:14 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("61"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:41:14 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:41:14 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 146.8735ms
2025-11-12 20:41:14 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:41:14 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 201.4437ms
2025-11-12 20:41:21 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:41:21 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:41:21 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:41:21 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:41:22 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("29"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:41:22 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:41:22 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 48.665ms
2025-11-12 20:41:22 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:41:22 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 64.0944ms
2025-11-12 20:41:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:41:37 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:41:37 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:41:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:41:37 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("29"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:41:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:41:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 48.2102ms
2025-11-12 20:41:37 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:41:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 77.735ms
2025-11-12 20:41:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:41:45 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:41:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:41:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:41:45 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("21"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:41:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:41:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 41.5276ms
2025-11-12 20:41:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:41:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 46.7901ms
2025-11-12 20:41:48 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - "application/json" null
2025-11-12 20:41:48 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:41:48 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:41:48 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrders\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.Order]]] GetOrders()" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:41:48 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o"
2025-11-12 20:41:48 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.Order, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:41:48 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrders (Api)" in 28.7556ms
2025-11-12 20:41:48 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:41:48 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - 200 null "application/json; charset=utf-8" 36.116ms
2025-11-12 20:43:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:43:00 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:43:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:43:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.Order]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:43:00 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.delivery_address, o.is_deleted, o.order_date, o.order_status_id, o.payment_method, o.payment_status_id, o.total_amount, o.user_id
FROM orders AS o
WHERE o.id = @__p_0
LIMIT 1"
2025-11-12 20:43:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.Order"'.
2025-11-12 20:43:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 249.8174ms
2025-11-12 20:43:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:43:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 296.9704ms
2025-11-12 20:43:02 [Information] Microsoft.Hosting.Lifetime: Application is shutting down...
2025-11-12 20:43:08 [Information] Microsoft.Hosting.Lifetime: Now listening on: "http://localhost:5000"
2025-11-12 20:43:08 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2025-11-12 20:43:08 [Information] Microsoft.Hosting.Lifetime: Hosting environment: "Development"
2025-11-12 20:43:08 [Information] Microsoft.Hosting.Lifetime: Content root path: "/Users/notpineapples/Desktop/MPT/FourthCourseWork/second-cursework/backend/api/src/Api"
2025-11-12 20:43:12 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - "application/json" null
2025-11-12 20:43:12 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:43:12 [Warning] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
2025-11-12 20:43:12 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:43:12 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.OrderDetailsDto]] GetOrder(Int64)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:43:13 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("27"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.id AS \"Id\", o.user_id AS \"UserId\", o.order_date AS \"OrderDate\", o.total_amount AS \"TotalAmount\", o0.name AS \"OrderStatus\", p.name AS \"PaymentStatus\"
FROM orders AS o
INNER JOIN order_statuses AS o0 ON o.order_status_id = o0.id
INNER JOIN payment_statuses AS p ON o.payment_status_id = p.id
WHERE o.id = @__id_0 AND NOT (o.is_deleted)
LIMIT 1"
2025-11-12 20:43:13 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT o.product_id AS \"ProductId\", p.name AS \"ProductName\", o.quantity AS \"Quantity\", o.price_at_moment AS \"PriceAtMoment\"
FROM order_details AS o
INNER JOIN products AS p ON o.product_id = p.id
WHERE o.order_id = @__id_0"
2025-11-12 20:43:13 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.OrderDetailsDto"'.
2025-11-12 20:43:13 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrder (Api)" in 1022.9217ms
2025-11-12 20:43:13 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrder (Api)"'
2025-11-12 20:43:13 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order/7""" - 200 null "application/json; charset=utf-8" 1124.597ms
2025-11-12 20:43:17 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:43:17 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:43:17 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:43:17 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:43:17 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:43:17 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 115.5864ms
2025-11-12 20:43:17 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:43:17 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 129.2738ms
2025-11-12 20:43:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:43:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:43:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:43:30 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:43:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:43:30 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 69.2278ms
2025-11-12 20:43:30 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:43:30 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 79.6198ms
2025-11-12 20:44:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:44:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:44:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:44:04 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:44:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:44:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 23.6858ms
2025-11-12 20:44:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:44:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 29.2576ms
2025-11-12 20:45:11 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:45:11 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:11 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:45:11 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:45:11 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:45:11 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 62.2331ms
2025-11-12 20:45:11 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:11 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 81.7557ms
2025-11-12 20:45:16 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:45:16 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:16 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:45:16 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:45:16 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:45:16 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 24.8908ms
2025-11-12 20:45:16 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:16 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 39.0474ms
2025-11-12 20:45:19 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:45:19 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:45:19 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:45:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:45:19 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 32.3489ms
2025-11-12 20:45:19 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:19 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 38.228ms
2025-11-12 20:45:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - "application/json" null
2025-11-12 20:45:23 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:45:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:45:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrders\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Api.DTOs.OrderSummaryDto]]] GetOrders()" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:45:23 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id AS \"Id\", o.user_id AS \"UserId\", o.order_date AS \"OrderDate\", o.total_amount AS \"TotalAmount\", o0.name AS \"OrderStatus\", p.name AS \"PaymentStatus\"
FROM orders AS o
INNER JOIN order_statuses AS o0 ON o.order_status_id = o0.id
INNER JOIN payment_statuses AS p ON o.payment_status_id = p.id
WHERE NOT (o.is_deleted)
ORDER BY o.order_date DESC"
2025-11-12 20:45:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Api.DTOs.OrderSummaryDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:45:23 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrders (Api)" in 87.2635ms
2025-11-12 20:45:23 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:45:23 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - 200 null "application/json; charset=utf-8" 161.2447ms
2025-11-12 20:45:25 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:45:25 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:45:25 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:45:25 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:45:25 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:45:25 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:45:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:45:25 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:45:25 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:45:25 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("70"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:45:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:45:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 274.4837ms
2025-11-12 20:45:26 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:45:26 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 327.5602ms
2025-11-12 20:45:26 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("20"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:45:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:45:26 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 324.7982ms
2025-11-12 20:45:26 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:45:26 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 377.5817ms
2025-11-12 20:45:28 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:45:28 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:28 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:45:28 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:45:28 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:45:28 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 23.8153ms
2025-11-12 20:45:28 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:28 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 34.5321ms
2025-11-12 20:45:58 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:45:58 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:58 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:45:58 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:45:58 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:45:58 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 26.3617ms
2025-11-12 20:45:58 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:45:58 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 33.1172ms
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Analytics/dashboard""" - null null
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Analytics/dashboard""" - 204 null null 62.2902ms
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Analytics/dashboard""" - "application/json" null
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.AnalyticsController.GetDashboard (Api)"'
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetDashboard\", controller = \"Analytics\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.AnalyticsDashboardDto]] GetDashboard()" on controller "Api.Controllers.AnalyticsController" ("Api").
2025-11-12 20:46:08 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("56"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM products AS p
WHERE NOT (p.is_deleted)"
2025-11-12 20:46:08 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM orders AS o
WHERE NOT (o.is_deleted)"
2025-11-12 20:46:08 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM users AS u
WHERE NOT (u.is_deleted)"
2025-11-12 20:46:08 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(o.total_amount), 0.0)
FROM orders AS o
WHERE NOT (o.is_deleted)"
2025-11-12 20:46:08 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("29"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT o0.id AS \"Id\", u.login AS \"Customer\", o1.name AS \"OrderStatus\", p.name AS \"PaymentStatus\", o0.order_date AS \"OrderDate\"
FROM (
    SELECT o.id, o.order_date, o.order_status_id, o.payment_status_id, o.user_id
    FROM orders AS o
    WHERE NOT (o.is_deleted)
    ORDER BY o.order_date DESC
    LIMIT @__p_0
) AS o0
INNER JOIN users AS u ON o0.user_id = u.id
INNER JOIN order_statuses AS o1 ON o0.order_status_id = o1.id
INNER JOIN payment_statuses AS p ON o0.payment_status_id = p.id
ORDER BY o0.order_date DESC"
2025-11-12 20:46:08 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT v.id AS \"Id\", v.name AS \"Name\", v.brand_name AS \"Brand\", v.stock_quantity AS \"StockQuantity\"
FROM v_product_inventory AS v
WHERE v.stock_quantity < 10
ORDER BY v.stock_quantity
LIMIT @__p_0"
2025-11-12 20:46:08 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT v.email, v.last_order_at, v.login, v.total_orders, v.total_spent, v.user_id
FROM v_user_orders_summary AS v
ORDER BY v.total_spent DESC
LIMIT @__p_0"
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.AnalyticsDashboardDto"'.
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.AnalyticsController.GetDashboard (Api)" in 354.6699ms
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.AnalyticsController.GetDashboard (Api)"'
2025-11-12 20:46:08 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Analytics/dashboard""" - 200 null "application/json; charset=utf-8" 395.2646ms
2025-11-12 20:46:17 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Analytics/dashboard""" - "application/json" null
2025-11-12 20:46:17 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:17 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.AnalyticsController.GetDashboard (Api)"'
2025-11-12 20:46:17 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetDashboard\", controller = \"Analytics\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.AnalyticsDashboardDto]] GetDashboard()" on controller "Api.Controllers.AnalyticsController" ("Api").
2025-11-12 20:46:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM products AS p
WHERE NOT (p.is_deleted)"
2025-11-12 20:46:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM orders AS o
WHERE NOT (o.is_deleted)"
2025-11-12 20:46:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM users AS u
WHERE NOT (u.is_deleted)"
2025-11-12 20:46:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(o.total_amount), 0.0)
FROM orders AS o
WHERE NOT (o.is_deleted)"
2025-11-12 20:46:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT o0.id AS \"Id\", u.login AS \"Customer\", o1.name AS \"OrderStatus\", p.name AS \"PaymentStatus\", o0.order_date AS \"OrderDate\"
FROM (
    SELECT o.id, o.order_date, o.order_status_id, o.payment_status_id, o.user_id
    FROM orders AS o
    WHERE NOT (o.is_deleted)
    ORDER BY o.order_date DESC
    LIMIT @__p_0
) AS o0
INNER JOIN users AS u ON o0.user_id = u.id
INNER JOIN order_statuses AS o1 ON o0.order_status_id = o1.id
INNER JOIN payment_statuses AS p ON o0.payment_status_id = p.id
ORDER BY o0.order_date DESC"
2025-11-12 20:46:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT v.id AS \"Id\", v.name AS \"Name\", v.brand_name AS \"Brand\", v.stock_quantity AS \"StockQuantity\"
FROM v_product_inventory AS v
WHERE v.stock_quantity < 10
ORDER BY v.stock_quantity
LIMIT @__p_0"
2025-11-12 20:46:18 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT v.email, v.last_order_at, v.login, v.total_orders, v.total_spent, v.user_id
FROM v_user_orders_summary AS v
ORDER BY v.total_spent DESC
LIMIT @__p_0"
2025-11-12 20:46:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.AnalyticsDashboardDto"'.
2025-11-12 20:46:18 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.AnalyticsController.GetDashboard (Api)" in 61.966ms
2025-11-12 20:46:18 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.AnalyticsController.GetDashboard (Api)"'
2025-11-12 20:46:18 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Analytics/dashboard""" - 200 null "application/json; charset=utf-8" 74.2473ms
2025-11-12 20:46:29 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - "application/json" null
2025-11-12 20:46:29 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:29 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:46:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrders\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Api.DTOs.OrderSummaryDto]]] GetOrders()" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:46:29 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id AS \"Id\", o.user_id AS \"UserId\", o.order_date AS \"OrderDate\", o.total_amount AS \"TotalAmount\", o0.name AS \"OrderStatus\", p.name AS \"PaymentStatus\"
FROM orders AS o
INNER JOIN order_statuses AS o0 ON o.order_status_id = o0.id
INNER JOIN payment_statuses AS p ON o.payment_status_id = p.id
WHERE NOT (o.is_deleted)
ORDER BY o.order_date DESC"
2025-11-12 20:46:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Api.DTOs.OrderSummaryDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:46:29 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrders (Api)" in 22.7221ms
2025-11-12 20:46:29 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:46:29 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - 200 null "application/json; charset=utf-8" 40.372ms
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Brand""" - null null
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Brand""" - 204 null null 22.2529ms
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Brand""" - "application/json" null
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.BrandController.GetBrands (Api)"'
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetBrands\", controller = \"Brand\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.Brand]]] GetBrands()" on controller "Api.Controllers.BrandController" ("Api").
2025-11-12 20:46:32 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT b.id, b.created_at, b.is_deleted, b.name
FROM brands AS b
WHERE NOT (b.is_deleted)"
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.Brand, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.BrandController.GetBrands (Api)" in 161.1519ms
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.BrandController.GetBrands (Api)"'
2025-11-12 20:46:32 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Brand""" - 200 null "application/json; charset=utf-8" 177.531ms
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/User""" - null null
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Role""" - null null
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/User""" - 204 null null 15.6188ms
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Role""" - 204 null null 12.6997ms
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Role""" - "application/json" null
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User""" - "application/json" null
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUsers (Api)"'
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.RoleController.GetRoles (Api)"'
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUsers\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Api.DTOs.UserDto]]] GetUsers()" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetRoles\", controller = \"Role\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.Role]]] GetRoles()" on controller "Api.Controllers.RoleController" ("Api").
2025-11-12 20:46:37 [Information] Api.Controllers.UserController: Fetching active users
2025-11-12 20:46:37 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE NOT (u.is_deleted)"
2025-11-12 20:46:37 [Information] Api.Controllers.UserController: Returning 7 users
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Api.DTOs.UserDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:46:37 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT r.id, r.created_at, r.name
FROM roles AS r"
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUsers (Api)" in 87.1947ms
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUsers (Api)"'
2025-11-12 20:46:37 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User""" - 200 null "application/json; charset=utf-8" 115.4668ms
2025-11-12 20:46:38 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.Role, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:46:38 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.RoleController.GetRoles (Api)" in 99.577ms
2025-11-12 20:46:38 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.RoleController.GetRoles (Api)"'
2025-11-12 20:46:38 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Role""" - 200 null "application/json; charset=utf-8" 133.8869ms
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/User/1""" - null null
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/User/1""" - 204 null null 4.289ms
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/User/1""" - "application/json" 145
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.PutUser (Api)"'
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"PutUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutUser(Int64, Api.DTOs.UserDto)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:47:04 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__p_0
LIMIT 1"
2025-11-12 20:47:04 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("32"ms) [Parameters=["@p1='?' (DbType = Int64), @p0='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE users SET login = @p0
WHERE id = @p1;"
2025-11-12 20:47:04 [Information] Api.Controllers.UserController: User 1 updated
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.PutUser (Api)" in 148.6919ms
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.PutUser (Api)"'
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/User/1""" - 204 null null 166.0785ms
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User""" - "application/json" null
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUsers (Api)"'
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUsers\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Api.DTOs.UserDto]]] GetUsers()" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:47:04 [Information] Api.Controllers.UserController: Fetching active users
2025-11-12 20:47:04 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE NOT (u.is_deleted)"
2025-11-12 20:47:04 [Information] Api.Controllers.UserController: Returning 7 users
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Api.DTOs.UserDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUsers (Api)" in 1.9822ms
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUsers (Api)"'
2025-11-12 20:47:04 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User""" - 200 null "application/json; charset=utf-8" 2.8856ms
2025-11-12 20:47:42 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Role""" - "application/json" null
2025-11-12 20:47:42 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:47:42 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.RoleController.GetRoles (Api)"'
2025-11-12 20:47:42 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetRoles\", controller = \"Role\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.Role]]] GetRoles()" on controller "Api.Controllers.RoleController" ("Api").
2025-11-12 20:47:43 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT r.id, r.created_at, r.name
FROM roles AS r"
2025-11-12 20:47:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.Role, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:47:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.RoleController.GetRoles (Api)" in 134.9759ms
2025-11-12 20:47:43 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.RoleController.GetRoles (Api)"'
2025-11-12 20:47:43 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Role""" - 200 null "application/json; charset=utf-8" 180.2049ms
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Role""" - "application/json" null
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User""" - "application/json" null
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.RoleController.GetRoles (Api)"'
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUsers (Api)"'
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetRoles\", controller = \"Role\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.Role]]] GetRoles()" on controller "Api.Controllers.RoleController" ("Api").
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUsers\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Api.DTOs.UserDto]]] GetUsers()" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:47:45 [Information] Api.Controllers.UserController: Fetching active users
2025-11-12 20:47:45 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT r.id, r.created_at, r.name
FROM roles AS r"
2025-11-12 20:47:45 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE NOT (u.is_deleted)"
2025-11-12 20:47:45 [Information] Api.Controllers.UserController: Returning 7 users
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Api.DTOs.UserDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.Role, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUsers (Api)" in 31.7799ms
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.RoleController.GetRoles (Api)" in 31.946ms
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.RoleController.GetRoles (Api)"'
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUsers (Api)"'
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Role""" - 200 null "application/json; charset=utf-8" 34.7027ms
2025-11-12 20:47:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User""" - 200 null "application/json; charset=utf-8" 34.7364ms
2025-11-12 20:49:49 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Analytics/dashboard""" - "application/json" null
2025-11-12 20:49:49 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:49:49 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.AnalyticsController.GetDashboard (Api)"'
2025-11-12 20:49:49 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetDashboard\", controller = \"Analytics\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.AnalyticsDashboardDto]] GetDashboard()" on controller "Api.Controllers.AnalyticsController" ("Api").
2025-11-12 20:49:49 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM products AS p
WHERE NOT (p.is_deleted)"
2025-11-12 20:49:49 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM orders AS o
WHERE NOT (o.is_deleted)"
2025-11-12 20:49:49 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM users AS u
WHERE NOT (u.is_deleted)"
2025-11-12 20:49:49 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(o.total_amount), 0.0)
FROM orders AS o
WHERE NOT (o.is_deleted)"
2025-11-12 20:49:49 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT o0.id AS \"Id\", u.login AS \"Customer\", o1.name AS \"OrderStatus\", p.name AS \"PaymentStatus\", o0.order_date AS \"OrderDate\"
FROM (
    SELECT o.id, o.order_date, o.order_status_id, o.payment_status_id, o.user_id
    FROM orders AS o
    WHERE NOT (o.is_deleted)
    ORDER BY o.order_date DESC
    LIMIT @__p_0
) AS o0
INNER JOIN users AS u ON o0.user_id = u.id
INNER JOIN order_statuses AS o1 ON o0.order_status_id = o1.id
INNER JOIN payment_statuses AS p ON o0.payment_status_id = p.id
ORDER BY o0.order_date DESC"
2025-11-12 20:49:49 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT v.id AS \"Id\", v.name AS \"Name\", v.brand_name AS \"Brand\", v.stock_quantity AS \"StockQuantity\"
FROM v_product_inventory AS v
WHERE v.stock_quantity < 10
ORDER BY v.stock_quantity
LIMIT @__p_0"
2025-11-12 20:49:49 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT v.email, v.last_order_at, v.login, v.total_orders, v.total_spent, v.user_id
FROM v_user_orders_summary AS v
ORDER BY v.total_spent DESC
LIMIT @__p_0"
2025-11-12 20:49:49 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.AnalyticsDashboardDto"'.
2025-11-12 20:49:49 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.AnalyticsController.GetDashboard (Api)" in 314.4282ms
2025-11-12 20:49:49 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.AnalyticsController.GetDashboard (Api)"'
2025-11-12 20:49:49 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Analytics/dashboard""" - 200 null "application/json; charset=utf-8" 442.6987ms
2025-11-12 20:49:58 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - "application/json" null
2025-11-12 20:49:58 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:49:58 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetProductCatalog\", controller = \"Product\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.ProductInventoryView]]] GetProductCatalog()" on controller "Api.Controllers.ProductController" ("Api").
2025-11-12 20:49:58 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT v.brand_name, v.description, v.id, v.image_url, v.materials, v.name, v.price, v.stock_quantity
FROM v_product_inventory AS v"
2025-11-12 20:49:58 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.ProductInventoryView, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:49:58 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.ProductController.GetProductCatalog (Api)" in 24.2853ms
2025-11-12 20:49:58 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.ProductController.GetProductCatalog (Api)"'
2025-11-12 20:49:58 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Product/catalog""" - 200 null "application/json; charset=utf-8" 31.9958ms
2025-11-12 20:55:02 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - "application/json" null
2025-11-12 20:55:02 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:55:02 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:55:02 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrders\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Api.DTOs.OrderSummaryDto]]] GetOrders()" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:55:02 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id AS \"Id\", o.user_id AS \"UserId\", o.order_date AS \"OrderDate\", o.total_amount AS \"TotalAmount\", o0.name AS \"OrderStatus\", p.name AS \"PaymentStatus\"
FROM orders AS o
INNER JOIN order_statuses AS o0 ON o.order_status_id = o0.id
INNER JOIN payment_statuses AS p ON o.payment_status_id = p.id
WHERE NOT (o.is_deleted)
ORDER BY o.order_date DESC"
2025-11-12 20:55:02 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Api.DTOs.OrderSummaryDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:55:02 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrders (Api)" in 44.4007ms
2025-11-12 20:55:02 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:55:02 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - 200 null "application/json; charset=utf-8" 63.9937ms
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/PaymentStatus""" - null null
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/OrderStatus""" - null null
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - "application/json" null
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrders\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Api.DTOs.OrderSummaryDto]]] GetOrders()" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/OrderStatus""" - 204 null null 5.9007ms
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/PaymentStatus""" - 204 null null 6.3419ms
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/OrderStatus""" - "application/json" null
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/PaymentStatus""" - "application/json" null
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderStatusController.GetOrderStatuses (Api)"'
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.PaymentStatusController.GetPaymentStatuses (Api)"'
2025-11-12 20:58:41 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id AS \"Id\", o.user_id AS \"UserId\", o.order_date AS \"OrderDate\", o.total_amount AS \"TotalAmount\", o0.name AS \"OrderStatus\", p.name AS \"PaymentStatus\"
FROM orders AS o
INNER JOIN order_statuses AS o0 ON o.order_status_id = o0.id
INNER JOIN payment_statuses AS p ON o.payment_status_id = p.id
WHERE NOT (o.is_deleted)
ORDER BY o.order_date DESC"
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Api.DTOs.OrderSummaryDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrders (Api)" in 45.9555ms
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - 200 null "application/json; charset=utf-8" 52.6066ms
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrderStatuses\", controller = \"OrderStatus\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.OrderStatus]]] GetOrderStatuses()" on controller "Api.Controllers.OrderStatusController" ("Api").
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetPaymentStatuses\", controller = \"PaymentStatus\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.PaymentStatus]]] GetPaymentStatuses()" on controller "Api.Controllers.PaymentStatusController" ("Api").
2025-11-12 20:58:41 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.created_at, o.name
FROM order_statuses AS o"
2025-11-12 20:58:41 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT p.id, p.created_at, p.name
FROM payment_statuses AS p"
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.OrderStatus, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.PaymentStatus, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.PaymentStatusController.GetPaymentStatuses (Api)" in 145.5315ms
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderStatusController.GetOrderStatuses (Api)" in 145.7022ms
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.PaymentStatusController.GetPaymentStatuses (Api)"'
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderStatusController.GetOrderStatuses (Api)"'
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/PaymentStatus""" - 200 null "application/json; charset=utf-8" 190.4664ms
2025-11-12 20:58:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/OrderStatus""" - 200 null "application/json; charset=utf-8" 190.5327ms
2025-11-12 20:59:31 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - "application/json" null
2025-11-12 20:59:31 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - "application/json" null
2025-11-12 20:59:31 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:59:31 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:59:31 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:59:31 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:59:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"Get\", controller = \"UserPreferences\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Models.ShopDb.UserPreference]] Get(Int64)" on controller "Api.Controllers.UserPreferencesController" ("Api").
2025-11-12 20:59:31 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.UserDto]] GetUser(Int64)" on controller "Api.Controllers.UserController" ("Api").
2025-11-12 20:59:31 [Information] Api.Controllers.UserController: Fetching user 1
2025-11-12 20:59:32 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("27"ms) [Parameters=["@__p_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.user_id, u.theme, u.updated_at
FROM user_preferences AS u
WHERE u.user_id = @__p_0
LIMIT 1"
2025-11-12 20:59:32 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("42"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT u.id, u.creation_datetime, u.email, u.full_name, u.is_archived, u.is_deleted, u.last_login_at, u.login, u.password, u.phone, u.role_id, u.update_datetime
FROM users AS u
WHERE u.id = @__id_0 AND NOT (u.is_deleted)
LIMIT 1"
2025-11-12 20:59:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Models.ShopDb.UserPreference"'.
2025-11-12 20:59:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserPreferencesController.Get (Api)" in 197.5256ms
2025-11-12 20:59:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.UserDto"'.
2025-11-12 20:59:32 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserPreferencesController.Get (Api)"'
2025-11-12 20:59:32 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/UserPreferences/1""" - 200 null "application/json; charset=utf-8" 224.4785ms
2025-11-12 20:59:32 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.UserController.GetUser (Api)" in 203.1107ms
2025-11-12 20:59:32 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.UserController.GetUser (Api)"'
2025-11-12 20:59:32 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/User/1""" - 200 null "application/json; charset=utf-8" 226.0853ms
2025-11-12 20:59:39 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Analytics/dashboard""" - "application/json" null
2025-11-12 20:59:39 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:59:39 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.AnalyticsController.GetDashboard (Api)"'
2025-11-12 20:59:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetDashboard\", controller = \"Analytics\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Api.DTOs.AnalyticsDashboardDto]] GetDashboard()" on controller "Api.Controllers.AnalyticsController" ("Api").
2025-11-12 20:59:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM products AS p
WHERE NOT (p.is_deleted)"
2025-11-12 20:59:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM orders AS o
WHERE NOT (o.is_deleted)"
2025-11-12 20:59:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT count(*)::int
FROM users AS u
WHERE NOT (u.is_deleted)"
2025-11-12 20:59:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COALESCE(sum(o.total_amount), 0.0)
FROM orders AS o
WHERE NOT (o.is_deleted)"
2025-11-12 20:59:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("38"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT o0.id AS \"Id\", u.login AS \"Customer\", o1.name AS \"OrderStatus\", p.name AS \"PaymentStatus\", o0.order_date AS \"OrderDate\"
FROM (
    SELECT o.id, o.order_date, o.order_status_id, o.payment_status_id, o.user_id
    FROM orders AS o
    WHERE NOT (o.is_deleted)
    ORDER BY o.order_date DESC
    LIMIT @__p_0
) AS o0
INNER JOIN users AS u ON o0.user_id = u.id
INNER JOIN order_statuses AS o1 ON o0.order_status_id = o1.id
INNER JOIN payment_statuses AS p ON o0.payment_status_id = p.id
ORDER BY o0.order_date DESC"
2025-11-12 20:59:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("34"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT v.id AS \"Id\", v.name AS \"Name\", v.brand_name AS \"Brand\", v.stock_quantity AS \"StockQuantity\"
FROM v_product_inventory AS v
WHERE v.stock_quantity < 10
ORDER BY v.stock_quantity
LIMIT @__p_0"
2025-11-12 20:59:39 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT v.email, v.last_order_at, v.login, v.total_orders, v.total_spent, v.user_id
FROM v_user_orders_summary AS v
ORDER BY v.total_spent DESC
LIMIT @__p_0"
2025-11-12 20:59:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"Api.DTOs.AnalyticsDashboardDto"'.
2025-11-12 20:59:39 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.AnalyticsController.GetDashboard (Api)" in 253.3029ms
2025-11-12 20:59:39 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.AnalyticsController.GetDashboard (Api)"'
2025-11-12 20:59:39 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Analytics/dashboard""" - 200 null "application/json; charset=utf-8" 289.0015ms
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/OrderStatus""" - "application/json" null
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - "application/json" null
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/PaymentStatus""" - "application/json" null
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderStatusController.GetOrderStatuses (Api)"'
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.PaymentStatusController.GetPaymentStatuses (Api)"'
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrderStatuses\", controller = \"OrderStatus\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.OrderStatus]]] GetOrderStatuses()" on controller "Api.Controllers.OrderStatusController" ("Api").
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetPaymentStatuses\", controller = \"PaymentStatus\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.PaymentStatus]]] GetPaymentStatuses()" on controller "Api.Controllers.PaymentStatusController" ("Api").
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetOrders\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Api.DTOs.OrderSummaryDto]]] GetOrders()" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 20:59:43 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT p.id, p.created_at, p.name
FROM payment_statuses AS p"
2025-11-12 20:59:43 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id, o.created_at, o.name
FROM order_statuses AS o"
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.OrderStatus, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.PaymentStatus, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderStatusController.GetOrderStatuses (Api)" in 39.6628ms
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.PaymentStatusController.GetPaymentStatuses (Api)" in 36.0957ms
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderStatusController.GetOrderStatuses (Api)"'
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.PaymentStatusController.GetPaymentStatuses (Api)"'
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/PaymentStatus""" - 200 null "application/json; charset=utf-8" 45.2269ms
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/OrderStatus""" - 200 null "application/json; charset=utf-8" 47.8945ms
2025-11-12 20:59:43 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT o.id AS \"Id\", o.user_id AS \"UserId\", o.order_date AS \"OrderDate\", o.total_amount AS \"TotalAmount\", o0.name AS \"OrderStatus\", p.name AS \"PaymentStatus\"
FROM orders AS o
INNER JOIN order_statuses AS o0 ON o.order_status_id = o0.id
INNER JOIN payment_statuses AS p ON o.payment_status_id = p.id
WHERE NOT (o.is_deleted)
ORDER BY o.order_date DESC"
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Api.DTOs.OrderSummaryDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.GetOrders (Api)" in 70.8322ms
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.GetOrders (Api)"'
2025-11-12 20:59:43 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/Order""" - 200 null "application/json; charset=utf-8" 84.7231ms
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/DeliveredOrder""" - null null
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/DeliveredOrder""" - 204 null null 6.929ms
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/DeliveredOrder""" - "application/json" null
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.DeliveredOrderController.GetDeliveredOrders (Api)"'
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"GetDeliveredOrders\", controller = \"DeliveredOrder\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Models.ShopDb.DeliveredOrder]]] GetDeliveredOrders()" on controller "Api.Controllers.DeliveredOrderController" ("Api").
2025-11-12 20:59:45 [Information] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT d.order_id, d.courier_name, d.delivery_date
FROM delivered_orders AS d"
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[Models.ShopDb.DeliveredOrder, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.DeliveredOrderController.GetDeliveredOrders (Api)" in 52.6452ms
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.DeliveredOrderController.GetDeliveredOrders (Api)"'
2025-11-12 20:59:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/DeliveredOrder""" - 200 null "application/json; charset=utf-8" 76.0525ms
2025-11-12 21:00:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order/2""" - null null
2025-11-12 21:00:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 21:00:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:5000""""/api/Order/2""" - 204 null null 3.6429ms
2025-11-12 21:00:41 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/Order/2""" - "application/json" 71
2025-11-12 21:00:41 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 21:00:41 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.PutOrder (Api)"'
2025-11-12 21:00:42 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"PutOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutOrder(Int64, Models.ShopDb.Order)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 21:00:42 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-11-12 21:00:42 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.PutOrder (Api)" in 63.4106ms
2025-11-12 21:00:42 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.PutOrder (Api)"'
2025-11-12 21:00:42 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/Order/2""" - 400 null "application/problem+json; charset=utf-8" 83.0237ms
2025-11-12 21:00:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/Order/2""" - "application/json" 91
2025-11-12 21:00:45 [Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
2025-11-12 21:00:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '"Api.Controllers.OrderController.PutOrder (Api)"'
2025-11-12 21:00:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with "{action = \"PutOrder\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutOrder(Int64, Models.ShopDb.Order)" on controller "Api.Controllers.OrderController" ("Api").
2025-11-12 21:00:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-11-12 21:00:45 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action "Api.Controllers.OrderController.PutOrder (Api)" in 2.3536ms
2025-11-12 21:00:45 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '"Api.Controllers.OrderController.PutOrder (Api)"'
2025-11-12 21:00:45 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/Order/2""" - 400 null "application/problem+json; charset=utf-8" 3.5822ms
